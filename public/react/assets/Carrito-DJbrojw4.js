import{r as c,j as r,a as u,J as g,b as o}from"./app-CcY4etO7.js";const b=()=>{const[l,i]=c.useState([]),[d,x]=c.useState(0),t=()=>{o.get("/carritos").then(e=>{i(e.data),m(e.data)}).catch(e=>console.error("Error al cargar carrito:",e))};c.useEffect(()=>{t()},[]);const m=e=>{const a=e.reduce((s,n)=>s+n.producto.precio*n.cantidad,0);x(a)},h=(e,a)=>{o.put(`/carritos/${e}`,{cantidad:a}).then(()=>t()).catch(s=>console.error("Error al actualizar cantidad:",s))},p=e=>{o.delete(`/carritos/${e}`).then(()=>t()).catch(a=>console.error("Error al eliminar item:",a))};return r.jsxs(r.Fragment,{children:[r.jsx(u,{title:"Carrito de Compras"}),r.jsxs("div",{className:"min-h-screen bg-gray-100 p-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"ðŸ›’ Carrito de Compras"}),l.length===0?r.jsx("p",{className:"text-gray-600",children:"Tu carrito estÃ¡ vacÃ­o."}):r.jsxs("div",{className:"bg-white p-4 shadow rounded",children:[l.map(e=>r.jsxs("div",{className:"flex items-center justify-between border-b py-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:e.producto.imagen_url||"https://via.placeholder.com/80",alt:e.producto.nombre,className:"w-20 h-20 object-cover rounded"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold",children:e.producto.nombre}),r.jsxs("p",{className:"text-gray-500",children:["Talla: ",e.producto.talla]}),r.jsxs("p",{className:"text-green-600",children:["S/. ",e.producto.precio]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",min:"1",value:e.cantidad,onChange:a=>h(e.id,a.target.value),className:"w-16 border px-2 py-1 rounded"}),r.jsx("button",{onClick:()=>p(e.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},e.id)),r.jsxs("div",{className:"text-right mt-4",children:[r.jsxs("p",{className:"text-lg font-bold",children:["Total: S/. ",d.toFixed(2)]}),r.jsx(g,{href:"/confirmar",className:"mt-2 inline-block bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Confirmar pedido"})]})]})]})]})};export{b as default};
